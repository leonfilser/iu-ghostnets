<?xml version='1.0' encoding='UTF-8' ?>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <title>Shea Shepherd</title>
        <link rel="icon" type="image/x-icon" href="media/favicon.ico" />
        <link rel="stylesheet" type="text/css" media="screen" href="style.css"/>
    </h:head>

    <body>
        <div class="main-container">
            <h:form id="reportForm">
                <h:panelGrid columns="2" cellpadding="5">
                    
                    <h:outputText value="Sichtungszeitpunkt" />
                    <p:calendar title="Sichtungszeitpunkt" required="true" id="sightingDate" 
                                value="#{ghostnetController.ghostnet.sightingDate}" pattern="dd.MM.yyyy" 
                                showOn="button" maxdate="#{dateBean.currentDate}" mask="true" 
                                requiredMessage="Bitte geben Sie ein Datum im Format TT.MM.JJJJ an."
                                validatorMessage="Das Datum darf nicht in der Zukunt liegen" />
                    
                    <h:message for="sightingDate" style="color:red" />
                    <h:outputText value="" />
            
                    <h:outputText value="Breitengrad" />
                    <p:inputText title="Breitengrad" required="true" id="latitude" 
                                 value="#{ghostnetController.ghostnet.latitude}" 
                                 requiredMessage="Bitte geben Sie einen Breitengrad zwischen -90 und 90 an."
                                 validatorMessage="Bitte geben Sie einen Breitengrad zwischen -90 und 90 an."
                                 type="number">
                        <f:validateDoubleRange minimum="-90" maximum="90" />
                    </p:inputText>
            
                    <h:message for="latitude" style="color:red" />
                    <h:outputText value="" />
            
                    <h:outputText value="Längengrad" />
                    <p:inputText title="Längengrad" required="true" id="longitude" 
                                 value="#{ghostnetController.ghostnet.longitude}" 
                                 requiredMessage="Bitte geben Sie einen Längengrad zwischen -180 und 180 an."
                                 validatorMessage="Bitte geben Sie einen Längengrad zwischen -180 und 180 an."
                                 type="number">
                        <f:validateDoubleRange minimum="-180" maximum="180" />
                    </p:inputText>
            
                    <h:message for="longitude" style="color:red" />
                    <h:outputText value="" />
            
                    <h:outputText value="Größe in m²" />
                    <p:inputText title="Größe in m²;" required="true" id="size" 
                                 value="#{ghostnetController.ghostnet.size}" 
                                 requiredMessage="Bitte geben Sie die Größe des Geisternetzes in Quadratmetern an." 
                                 validatorMessage="Die Größe muss zwischen 1 und 5000 Quadratmetern liegen."
                                 type="number">
                        <f:validateLongRange minimum="1" maximum="5000" />
                    </p:inputText>
            
                    <h:message for="size" style="color:red" />
                    <h:outputText value="" />
            
                    <h:outputText value="Telefonnummer" />
                    <p:inputText title="Telefonnummer" required="false" id="phoneNumber" 
                                 placeholder="(optional)"
                                 value="#{ghostnetController.ghostnet.reporterPhoneNumber}" 
                                 validatorMessage="Bitte geben Sie eine gültige Telefonnummer ein (z.B. +49 123 456 789)."
                                 type="tel">
                        <f:validateLength minimum="5" maximum="20" />
                        <f:validateRegex pattern="^\\s*(?:\\+?(\\d{1,3}))?[-. (]*(\\d{3})[-. )]*(\\d{3})[-. ]*(\\d{4})(?: *x(\\d+))?\\s*$" />
                    </p:inputText>
            
                    <h:message for="phoneNumber" style="color:red" />
                    <h:outputText value="" />
                </h:panelGrid>
            </h:form>

            <p:commandButton value="Abbrechen" icon="pi pi-arrow-left" onclick="window.history.back();" type="button" />
            <p></p>
            <p:commandButton value="Neues Geisternetz melden" action="#{ghostnetController.addGhostnet}" ajax="true" update="reportForm" />

        </div>
    </body>
</html>