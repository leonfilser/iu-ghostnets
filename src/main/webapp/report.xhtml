<?xml version='1.0' encoding='UTF-8' ?>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <title>Shea Shepherd - Geisternetz Melden</title>
        <link rel="icon" type="image/x-icon" href="media/favicon.ico" />
        <link rel="stylesheet" type="text/css" media="screen" href="style.css"/>
    </h:head>

    <body>
        <div class="main-container">

            <img class="home-logo" src="media/logo.png" alt="Shea Shepherd Logo"/>
            <h1 class="home-title">Neues Geisternetz melden</h1>

            <h:form id="reportForm">

                <div class="form-row">
                    <h:outputText value="Sichtungszeitpunkt:"/>
                    <p:calendar title="Sichtungszeitpunkt" required="true" id="sightingDate" value="#{ghostnetController.newGhostnet.sightingDate}" pattern="dd.MM.yyyy" showOn="button" maxdate="#{dateBean.currentDate}" mask="true" requiredMessage="Bitte geben Sie den Sichtungszeitpunkt im Format TT.MM.JJJJ an."/>
                    <h:message for="sightingDate" style="color:red" />
                </div>

                <div class="form-row">
                    <h:outputText value="Breitengrad:"/>
                    <p:inputText title="Breitengrad" required="true" id="latitude" value="#{ghostnetController.newGhostnet.latitude}" validatorMessage="Der Breitengrad muss zwischen -90 und 90 liegen.">

                        <f:validateDoubleRange minimum="-90" maximum="90" />

                    </p:inputText>
                    <h:message for="latitude" style="color:red" />
                </div>

                <div>
                    <h:outputText value="Längengrad:"/>
                    <p:inputText title="Längengrad" required="true" id="longitude" value="#{ghostnetController.newGhostnet.longitude}" validatorMessage="Der Längengrad muss zwischen -180 und 180 liegen.">

                        <f:validateDoubleRange minimum="-180" maximum="180" />

                    </p:inputText>
                    <h:message for="longitude" style="color:red" />
                </div>

                <div class="form-row">
                    <h:outputText value="Größe in m²:"/>
                    <p:inputText title="Größe in m²;" required="true" id="size" value="#{ghostnetController.newGhostnet.size}" requiredMessage="Bitte geben Sie die Größe des Geisternetzes in Quadratmetern an." validatorMessage="Die Größe muss zwischen 1 und 1000 Quadratmetern liegen.">

                        <f:validateLongRange minimum="1" maximum="1000" />

                    </p:inputText>
                    <h:message for="size" style="color:red" />
                </div>

                <div class="form-row">
                    <h:outputText value="Telefonnummer (optional)"/>
                    <p:inputText title="Telefonnummer" required="false" id="phoneNumber" value="#{ghostnetController.newGhostnet.reporterPhoneNr}" validatorMessage="Bitte geben Sie eine gültige Telefonnummer ein (z.B. +49 123 456 789).">

                        <f:validateLength minimum="5" maximum="20" />
                        <f:validateRegex pattern="^\s*(?:\+?(\d{1,3}))?[-. (]*(\d{3})[-. )]*(\d{3})[-. ]*(\d{4})(?: *x(\d+))?\s*$" />

                    </p:inputText>
                    <h:message for="phoneNumber" style="color:red" />
                </div>

                <p:commandButton value="Neues Geisternetz melden" action="#{ghostnetController.addNew}" ajax="true" update="reportForm" />

            </h:form>
        </div>
    </body>
</html>